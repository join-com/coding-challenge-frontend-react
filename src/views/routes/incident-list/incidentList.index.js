import React, { Component } from 'react';
import { connect } from 'react-redux';
import { fetchIncidents, searchIncidents } from './incidentList.action';
import Incident from '../../components/incident/incident';
import { StyledIncidentList } from './incidentList.style';

class IncidentList extends Component {
    componentDidMount() {
        this.props.fetchIncidents();
    }

    renderIncidentList = () => {
        return this.props.incidentList.map(incident => {
            return <Incident key={incident.id} incident={incident}></Incident>
        })
    }

    render() {
        return (
            <>
                <StyledIncidentList>
                    {this.props.incidentList && this.renderIncidentList()}
                </StyledIncidentList>
            </>
        )
    }
}

function mapStateToPros({ incidentList }) {
    return { incidentList: incidentList }
}

export default connect(mapStateToPros, { fetchIncidents })(IncidentList);




// [{"id":48812,"title":null,"description":null,"address":null,"occurred_at":0,"updated_at":1438533008,"url":"https://bikewise.org/api/v1/incidents/48812","source":null,"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":95448,"title":"Bike Lane Obstruction","description":"Rental delivery truck parked the wrong way and armored cash truck. Both blocking both bike lane and bus stop causing cyclist to almost get hit. Recurrent problem with no visible enforcement.  ","address":"52 Massachusetts Ave Cambridge 02139, United States","occurred_at":1545912794,"updated_at":1545921268,"url":"https://bikewise.org/api/v1/incidents/95448","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5240618","api_url":"https://seeclickfix.com/api/v2/issues/5240618"},"media":{"image_url":"https://seeclickfix.com/files/issue_images/0122/1480/image.jpg","image_url_thumb":"https://seeclickfix.com/files/issue_images/0122/1480/image_square.jpg"},"location_type":null,"location_description":null,"type":"Hazard","type_properties":null},{"id":95440,"title":"Missing Bike Rack and No Handicap Ramp","description":"The whole business complex is missing bike lock up racks and handicap ramps.","address":"6616 Gulton Court Northeast Albuquerque, New Mexico","occurred_at":1545871108,"updated_at":1545881664,"url":"https://bikewise.org/api/v1/incidents/95440","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5239273","api_url":"https://seeclickfix.com/api/v2/issues/5239273"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":95444,"title":"Stolen Raleigh(black)","description":null,"address":"Plymouth, MN, 55441","occurred_at":1545870731,"updated_at":1545892265,"url":"https://bikewise.org/api/v1/incidents/95444","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/503488","api_url":"https://bikeindex.org/api/v1/bikes/503488"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95439,"title":"Other","description":"This shopping doesn't have a bicycle rack to lock up bikes.\r\nSierra Vista Shopping Center \r\nMarshalls, Hobby Lobby and Steinmart are located here. \r\n9500 Montgomery Blvd NE \r\n87111","address":"9500 Montgomery Boulevard Northeast Albuquerque, New Mexico","occurred_at":1545870308,"updated_at":1545878065,"url":"https://bikewise.org/api/v1/incidents/95439","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5239251","api_url":"https://seeclickfix.com/api/v2/issues/5239251"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":95437,"title":"more potholes that have never been taken care of ","description":"there are horizontal and linear cracks so severe that one can barely walk let alone ride a bike or drive a vehicle - for 30 years now ..\r\n","address":"311 East Hilltop Place Tucson, Arizona","occurred_at":1545866780,"updated_at":1545874464,"url":"https://bikewise.org/api/v1/incidents/95437","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5239145","api_url":"https://seeclickfix.com/api/v2/issues/5239145"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Hazard","type_properties":null},{"id":95438,"title":"Bicycle or Scooter - Bird","description":"12/26/18; 9am.  Itâ€™s like this every morning.  People riding on the sidewalk and scooters strewn all over.  ","address":"1605 Jefferson St Oakland, CA, 94612, USA","occurred_at":1545865844,"updated_at":1545874465,"url":"https://bikewise.org/api/v1/incidents/95438","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5239116","api_url":"https://seeclickfix.com/api/v2/issues/5239116"},"media":{"image_url":"https://seeclickfix.com/files/issue_images/0122/1298/7EBC7D07-0404-44EB-94A7-54BD6B17BADA.jpeg","image_url_thumb":"https://seeclickfix.com/files/issue_images/0122/1298/7EBC7D07-0404-44EB-94A7-54BD6B17BADA_square.jpeg"},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":95432,"title":"Stolen 2016 Kona(black and yellow or gold)","description":"","address":"Seattle, WA, 98122","occurred_at":1545865200,"updated_at":1545867064,"url":"https://bikewise.org/api/v1/incidents/95432","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/503437","api_url":"https://bikeindex.org/api/v1/bikes/503437"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95435,"title":"Bicycle or Scooter - Lime","description":"CITIZEN REQUESTING REMOVAL OF AT LEAST THREE LIME SCOOTERS LEFT HAPHAZARDLY ON THE SIDEWALK, AT 10TH STREET AND WASHINGTON STREET, OAKLAND, CA.","address":"501-551 10th St Oakland, CA, 94607, USA","occurred_at":1545863550,"updated_at":1545870865,"url":"https://bikewise.org/api/v1/incidents/95435","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5239011","api_url":"https://seeclickfix.com/api/v2/issues/5239011"},"media":{"image_url":"https://seeclickfix.com/files/issue_images/0122/1273/LIME.jpg","image_url_thumb":"https://seeclickfix.com/files/issue_images/0122/1273/LIME_square.jpg"},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":95436,"title":"Bicycle or Scooter - Bird","description":"CITIZEN REQUESTING REMOVAL OF AT LEAST TWO BIRD SCOOTERS LEFT HAPHAZARDLY ON THE SIDEWALK, AT 10TH STREET AND WASHINGTON STREET, BY THE ENTRANCE TO THE CONVENTION CENTER AND BY THE SWAN MARKET BUILDING","address":"501-551 10th St Oakland, CA, 94607, USA","occurred_at":1545863312,"updated_at":1545870865,"url":"https://bikewise.org/api/v1/incidents/95436","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5239005","api_url":"https://seeclickfix.com/api/v2/issues/5239005"},"media":{"image_url":"https://seeclickfix.com/files/issue_images/0122/1270/BIRD.jpg","image_url_thumb":"https://seeclickfix.com/files/issue_images/0122/1270/BIRD_square.jpg"},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":95429,"title":"Sidewalk Conditions (other than Snow & Ice Removal)","description":"The sidewalk in front of 76 Clinton is uneven and could be a hazard to pedestrians and bikers.","address":"76 Clinton St Chelsea, MA 02150, USA","occurred_at":1545858062,"updated_at":1545863664,"url":"https://bikewise.org/api/v1/incidents/95429","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5238765","api_url":"https://seeclickfix.com/api/v2/issues/5238765"},"media":{"image_url":"https://seeclickfix.com/files/issue_images/0122/1217/img-image_6445507989519392074841.jpg","image_url_thumb":"https://seeclickfix.com/files/issue_images/0122/1217/img-image_6445507989519392074841_square.jpg"},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":95428,"title":"Open Space- Trails","description":"There is a royal blue Ford F 250 older model that parks right next to an open access gate. I have seen boxes of materials going on and out. I have seen older folks going in and out. I have seen them at odd hours of the night. Sometimes the Ford truck will turn on hazard light and pretend to be fixing his car. I live above the amphitheatre and have ridden my bike past several times. I have seen older women going in and out and they are not dressed like they are going hiking. This turnoff is on the south side of main Street about 200 feet before arriving at Heritage.","address":"4872 Main St Chula Vista, CA 91911, USA","occurred_at":1545855000,"updated_at":1545860062,"url":"https://bikewise.org/api/v1/incidents/95428","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5238577","api_url":"https://seeclickfix.com/api/v2/issues/5238577"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":95427,"title":"Abandoned Bikes","description":"Bike has been chained to pole without a seat since September.","address":"16 Pine St Portland ","occurred_at":1545854992,"updated_at":1545860062,"url":"https://bikewise.org/api/v1/incidents/95427","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5238576","api_url":"https://seeclickfix.com/api/v2/issues/5238576"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95426,"title":"Pothole","description":"Paving coming apart just north of bike trail crossing","address":"1 S Meadow Rdg Concord 01742, United States","occurred_at":1545851076,"updated_at":1545856465,"url":"https://bikewise.org/api/v1/incidents/95426","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5238359","api_url":"https://seeclickfix.com/api/v2/issues/5238359"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Hazard","type_properties":null},{"id":95425,"title":"Stolen 2018 Bike Friday Foldable New World Tourist(purple)","description":"","address":"Normandy Park, LA, 98166","occurred_at":1545847200,"updated_at":1545856263,"url":"https://bikewise.org/api/v1/incidents/95425","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/503301","api_url":"https://bikeindex.org/api/v1/bikes/503301"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95412,"title":"Storm Drain","description":"4 lime bikes in the canal","address":"550 N Canal","occurred_at":1545844618,"updated_at":1545849265,"url":"https://bikewise.org/api/v1/incidents/95412","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5238002","api_url":"https://seeclickfix.com/api/v2/issues/5238002"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":52760,"title":"Stolen Schwinn S2280B(black)","description":"U lock left at scene. Not sure how it was defeated. Lock was most likely not properly placed. ","address":"Berkeley, 94709","occurred_at":1545844286,"updated_at":1545845463,"url":"https://bikewise.org/api/v1/incidents/52760","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/62385","api_url":"https://bikeindex.org/api/v1/bikes/62385"},"media":{"image_url":"https://files.bikeindex.org/uploads/Pu/39793/large_unnamed.jpg","image_url_thumb":"https://files.bikeindex.org/uploads/Pu/39793/small_unnamed.jpg"},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95431,"title":"Stolen 2017 Diamondback Haanjo Tero(green)","description":"My bike was stored behind my house and was stolen between 12/24 and 12/26.","address":"Seattle, WA, 98103","occurred_at":1545843600,"updated_at":1545867064,"url":"https://bikewise.org/api/v1/incidents/95431","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/503383","api_url":"https://bikeindex.org/api/v1/bikes/503383"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95419,"title":"Stolen 2016 Trek FUEL EX 8(silver, gray or bare metal, red, and black)","description":"Home broken into in daylight kicked in door stole everything by the time the cops arrived due to alarm system. Can't really stop that level of greed.","address":"Denver, CO, 80204","occurred_at":1545840000,"updated_at":1545852666,"url":"https://bikewise.org/api/v1/incidents/95419","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/503196","api_url":"https://bikeindex.org/api/v1/bikes/503196"},"media":{"image_url":"https://files.bikeindex.org/uploads/Pu/143773/large_Trek4-e1448554580244.jpg","image_url_thumb":"https://files.bikeindex.org/uploads/Pu/143773/small_Trek4-e1448554580244.jpg"},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95422,"title":"Stolen 2018 Trek Womens E-Bike(silver, gray or bare metal)","description":"Taken from my locker on 12/18/2018. E-Bike with out charger, so could be abandoned after 50 miles.  Had cutting tool of some type.","address":"Seattle, WA, 98103","occurred_at":1545836400,"updated_at":1545852667,"url":"https://bikewise.org/api/v1/incidents/95422","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/503195","api_url":"https://bikeindex.org/api/v1/bikes/503195"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95424,"title":"Stolen SUN BICYCLES BOARDWALK(black)","description":"It's a black bike with pretty good sized tires and a HUGE basket. Says BOARDWALK in blue on the side. It was stolen out of my backyard where it was locked up and under a tarp. ","address":"New Orleans, LA, 70130","occurred_at":1545829200,"updated_at":1545856263,"url":"https://bikewise.org/api/v1/incidents/95424","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/503338","api_url":"https://bikeindex.org/api/v1/bikes/503338"},"media":{"image_url":"https://files.bikeindex.org/uploads/Pu/143797/large_Screen_Shot_2018-12-26_at_1.11.54_PM_copy.jpg","image_url_thumb":"https://files.bikeindex.org/uploads/Pu/143797/small_Screen_Shot_2018-12-26_at_1.11.54_PM_copy.jpg"},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95447,"title":"Stolen 2015 MEC Hold Steady(black and red)","description":"Bike was unlocked inside a vehicle that was broken into","address":"Calgary, T3E4X4, CA","occurred_at":1545825600,"updated_at":1545892265,"url":"https://bikewise.org/api/v1/incidents/95447","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/503487","api_url":"https://bikeindex.org/api/v1/bikes/503487"},"media":{"image_url":"https://files.bikeindex.org/uploads/Pu/143815/large_HoldSteady.jpg","image_url_thumb":"https://files.bikeindex.org/uploads/Pu/143815/small_HoldSteady.jpg"},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95415,"title":"Stolen 2019 Giant LaFree E+1(black)","description":"Bike shop was broken into. ","address":"Portland, OR, 97211","occurred_at":1545825600,"updated_at":1545852666,"url":"https://bikewise.org/api/v1/incidents/95415","source":{"name":"BikeIndex.org","html_url":"https://bikeindex.org/bikes/503176","api_url":"https://bikeindex.org/api/v1/bikes/503176"},"media":{"image_url":"https://files.bikeindex.org/uploads/Pu/143770/large_la_free.jpg","image_url_thumb":"https://files.bikeindex.org/uploads/Pu/143770/small_la_free.jpg"},"location_type":null,"location_description":null,"type":"Theft","type_properties":null},{"id":95411,"title":"Bike thrown in front yard","description":"Please address.  Thanks.  ","address":"3122 Regatta Cir Gulf Gate Estates, FL","occurred_at":1545821945,"updated_at":1545834861,"url":"https://bikewise.org/api/v1/incidents/95411","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5237140","api_url":"https://seeclickfix.com/api/v2/issues/5237140"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Unconfirmed","type_properties":null},{"id":95409,"title":"Potholes and Very rough pavement","description":"I have submitted several complaints about this intersection in the past 3 years. Nothing has been done to correct this problem. Intersection gets a lot of vehicle traffic and bike traffic entering the CDO Wash paths, it is very unsafe for bikers. Other streets in this area have been repaired, not here.","address":"6701-6869 N Northlight Dr Tucson, AZ, 85741, USA","occurred_at":1545797134,"updated_at":1545831185,"url":"https://bikewise.org/api/v1/incidents/95409","source":{"name":"SeeClickFix.com","html_url":"https://seeclickfix.com/issues/5236893","api_url":"https://seeclickfix.com/api/v2/issues/5236893"},"media":{"image_url":null,"image_url_thumb":null},"location_type":null,"location_description":null,"type":"Hazard","type_properties":null}]